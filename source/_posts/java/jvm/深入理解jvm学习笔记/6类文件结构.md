---
title: 类文件结构
date: 2016-10-22 13:43:14
categories: 
- Java
tags:
- java
- jvm
---

# 类文件结构

1. 无关性的基石

	class字节码实现平台无关性甚至语言无关性（包括除了java之外能运行在jvm上的语言：Clojure、Groovy、JRuby、Jython等）的基石，是一种字节码的存储格式，jvm不与包括Java在内的任何语言绑定，只与Class文件这种特定的二进制文件格式所关联，其中包含了jvm指令集、符号表以及若干其他辅助信息。

	即jvm从不关心Class文件来源自何种语言。

2. Class类文件结构

	Class文件是一组以8位字节为基础单位的二进制流，各个数据项目严格按照顺序紧凑排列，无任何分隔符。

	Class文件采用一种类似C语言结构体的数据结构来存储数据，这种结构体中只有2中数据类型：无符号数和表。

	1. 魔数与Class文件版本

		每个Class文件头4个字节称为魔数（Magic Number），确定这个文件是否是Class文件，固定为0xCAFEBABE。

		紧跟着魔数的4个字节存储了Class的版本号，JDK能向下兼容旧版本的Class文件，但不能向上兼容。

	2. 常量池


