!function(){function e(e){if(r)e(r);else{var t=new XMLHttpRequest;t.open("GET","/content.json",!0),t.onload=function(){if(this.status>=200&&this.status<300){var t=JSON.parse(this.response);r=t instanceof Array?t:t.posts,e(r)}else console.error(this.statusText)},t.onerror=function(){console.error(this.statusText)},t.send()}}function t(e,t){return e.replace(/\{\w+\}/g,function(e){var n=e.replace(/\{|\}/g,"");return t[n]||""})}function n(e){var n="";n=e.length?e.map(function(e){return t(p,{title:e.title,path:e.path,date:new Date(e.date).toLocaleDateString(),tags:e.tags.map(function(e){return"<span>#"+e.name+"</span>"}).join("")})}).join(""):'<li class="tips"><i class="icon icon-coffee icon-3x"></i><p>Results not found!</p></li>',m.innerHTML=n}function i(e,t){return t.lastIndex=0,t.test(e)}function s(e,t){return i(e.title,t)||e.tags.some(function(e){return i(e.name,t)})||i(e.text,t)}function o(t){var i=this.value.trim();if(i){var o=new RegExp(i.replace(/[ ]/g,"|"),"gmi");e(function(e){var t=e.filter(function(e){return s(e,o)});n(t),v.show()}),t.preventDefault()}}var r,a=window.BLOG.even,c=document.getElementById("search"),u=document.getElementById("search-wrap"),d=document.getElementById("key"),l=document.getElementById("back"),f=document.getElementById("search-panel"),m=document.getElementById("search-result"),p=document.getElementById("search-tpl").innerHTML,h=window.BLOG.docEl,g=window.BLOG.noop,v={show:function(){window.innerWidth<760?h.classList.add("lock-size"):g,f.classList.add("in")},hide:function(){window.innerWidth<760?h.classList.remove("lock-size"):g,f.classList.remove("in")}};c.addEventListener(a,function(){u.classList.toggle("in"),d.value="",d.focus()}),l.addEventListener(a,function(){u.classList.remove("in"),v.hide()}),document.addEventListener(a,function(e){"key"!==e.target.id&&v.hide()}),d.addEventListener("input",o),d.addEventListener(a,o)}();